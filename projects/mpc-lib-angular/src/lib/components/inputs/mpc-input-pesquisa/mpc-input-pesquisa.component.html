<div [tabIndex]="tabIndex" [attr.aria-label]="ariaLabel" class="form-group">
  <label [class.error]="errorMessage">{{ label + (min ? ' *' : '') }}</label>

  <div class="input-group">
    <input [id]="id" type="text" class="form-control" [value]="value" (input)="setValue($event)"
      [attr.minLength]="minLength" [readOnly]="readonly" (focus)="onFocus()"
      (keydown.enter)="value && value.length >= minLength ? pesquisar() : null" [disabled]="disabled"
      [class.error]="errorMessage" [class.success]="campoTocado && !errorMessage" />

    <div class="icon-limpar" [style.visibility]="value && value.length > 0 ? 'visible' : 'hidden'">
      <i class="bi bi-x-lg" (click)="limparPesquisa()" style="cursor:pointer" title="Limpar pesquisa"></i>
    </div>

    <div class="icon-pesquisa">
      <i class="bi bi-search" [class.error]="errorMessage"
        [style.cursor]="value && value.length < minLength ? 'not-allowed' : 'pointer'"
        (click)="value && value.length >= minLength ? pesquisar() : null" title="Pesquisar"></i>
    </div>
  </div>

  <p class="mt-1" [class.error]="errorMessage" [style.visibility]="errorMessage ? 'visible' : 'hidden'">
    {{ errorMessage }}
  </p>
</div>